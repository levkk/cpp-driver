


<!doctype html>
<html class="no-js" lang="en">
  
<head><!-- begin head.html -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
    Tuples | Scylla Docs
    </title>
    <meta name="description" content="Scylla is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server."/>

    <link rel="icon" href="../../../_static/img/favicon.ico" type="image/x-icon"/>
    <link rel="canonical" href="https://docs.scylladb.com/">

    <link rel="author" href="mailto:info@scylladb.com">
    <link rel="stylesheet" href="../../../_static/" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/tabs.css" />
    
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/doc/main.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>

    <script src="../../../_static/js/vendor/modernizr.js"></script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T8P2JP');</script>
    <!-- End Google Tag Manager -->

    <!-- Marketo -->
    <script type="text/javascript"> (function() { var didInit = false; function initMunchkin() { if(didInit === false) { didInit = true; Munchkin.init('791-QBF-350'); } } var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//munchkin.marketo.net/munchkin.js'; s.onreadystatechange = function() { if (this.readyState == 'complete' || this.readyState == 'loaded') { initMunchkin(); } }; s.onload = initMunchkin; document.getElementsByTagName('head')[0].appendChild(s); })(); </script>
    <!-- End Marketo -->

<!-- end head.html -->
</head>

<body>



<header id="header" class="animated">
    <div class="topbar_continer contain-to-grid clearfix">
        <nav class="top-bar" id="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name">
                    <div class="logo">
                        <a href="https://docs.scylladb.com/"><img src="../../../_static/img/logo-scylla-docs.svg" alt="" width="151"></a>
                    </div>
                </li>
                <li class="toggle-topbar"><a href="#"><span class="icon-manu"></span></a></li>
            </ul>
            <section class="top-bar-section clearfix">
                <ul class="right">
                    
                    <li>
                        <a href="https://cpp-driver.docs.scylladb.com/">C/C++ Driver</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">Scylla Cloud</a>
                    </li>
                    
                    <li>
                        <a href="https://university.scylladb.com/">Scylla University</a>
                    </li>
                    
                    <li>
                        <a href="https://www.scylladb.com/">ScyllaDB Home</a>
                    </li>
                    
                    <li class="search_continer show-for-medium-up">	
                        <ci-search></ci-search>	
                    </li>	
                </ul>
            </section>
        </nav>
    </div>
</header>
<section id="content">
    <div class="row">
	
	<div class="large-6 large-push-3 columns">

        

        <div class="section" id="tuples">
<h1>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">¶</a></h1>
<p><strong>Note</strong>: Cassandra 2.1+ is required.</p>
<p>Tuples are fixed-length sets of values. They are similar to UDTs in that they
can contain different types of values, but unlike UDTs tuples can only be
accessed by position and not by name.</p>
<div class="section" id="creating-a-tuple">
<h2>Creating a Tuple<a class="headerlink" href="#creating-a-tuple" title="Permalink to this headline">¶</a></h2>
<p>Creating a <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/api/struct.CassTuple/"><code class="docutils literal notranslate"><span class="pre">CassTuple</span></code></a> is done by allocating a new tuple object with the
number of items that will be contained in it. Items can the be set in the tuple
using their position.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* The number of items must be set properly */</span>
<span class="n">CassTuple</span><span class="o">*</span> <span class="n">tuple</span> <span class="o">=</span> <span class="n">cass_tuple_new</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="cm">/* Items are set by position */</span>
<span class="n">cass_tuple_set_string</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;abc&quot;</span><span class="p">);</span>
<span class="n">cass_tuple_set_int64</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>

<span class="cm">/* ... */</span>

<span class="cm">/* Tuples must be freed */</span>
<span class="n">cass_tuple_free</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-tuple-using-a-data-type">
<h2>Create a Tuple using a Data Type<a class="headerlink" href="#create-a-tuple-using-a-data-type" title="Permalink to this headline">¶</a></h2>
<p>A tuple can also be created using a [<code class="docutils literal notranslate"><span class="pre">CassDataType</span></code>] that comes from schema
metadata or is manually constructed. However, this is not a necessary step as
a tuple can be created without a data type. A typed tuple will not allow invalid
type to be added to it. <a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/api/struct.CassTuple/#cass-tuple-set-null"><code class="docutils literal notranslate"><span class="pre">cass_tuple_set_*()</span></code></a> functions will return an error
code if the incorrect type is added to a position.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Creata new tuple data type */</span>
<span class="n">CassDataType</span><span class="o">*</span> <span class="n">data_type</span> <span class="o">=</span> <span class="n">cass_data_type_new_tuple</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="cm">/* Add a string at position 0 and an 64-bit integer at position 1 */</span>
<span class="n">cass_data_type_add_sub_value_type</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span> <span class="n">CASS_VALUE_TYPE_TEXT</span><span class="p">);</span>
<span class="n">cass_data_type_add_sub_value_type</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span> <span class="n">CASS_VALUE_TYPE_BIGINT</span><span class="p">);</span>

<span class="cm">/* Create a new tuple using data type */</span>
<span class="n">CassTuple</span><span class="o">*</span> <span class="n">tuple</span> <span class="o">=</span> <span class="n">cass_tuple_new_from_data_type</span><span class="p">(</span><span class="n">data_type</span><span class="p">);</span>

<span class="cm">/* This will now return an error because the data type of the first item is</span>
<span class="cm"> * a string not an integer</span>
<span class="cm"> */</span>
<span class="n">CassError</span> <span class="n">rc</span> <span class="o">=</span> <span class="n">cass_tuple_set_int32</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>

<span class="n">assert</span><span class="p">(</span><span class="n">rc</span> <span class="o">!=</span> <span class="n">CASS_OK</span><span class="p">);</span>

<span class="cm">/* These are the correct types */</span>
<span class="n">cass_tuple_set_string</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;abc&quot;</span><span class="p">);</span>
<span class="n">cass_tuple_set_int64</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>

<span class="cm">/* ... */</span>

<span class="cm">/* Constructed data types must be freed */</span>
<span class="n">cass_data_type_free</span><span class="p">(</span><span class="n">data_type</span><span class="p">);</span>

<span class="cm">/* Tuples must be freed */</span>
<span class="n">cass_tuple_free</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="consuming-values-from-a-tuple-result">
<h2>Consuming values from a Tuple result<a class="headerlink" href="#consuming-values-from-a-tuple-result" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://cpp-driver.docs.scylladb.com/master/api/struct.CassTuple/"><code class="docutils literal notranslate"><span class="pre">CassTuple</span></code></a>s are consumed using an iterator.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">iterate_tuple</span><span class="p">(</span><span class="k">const</span> <span class="n">CassRow</span><span class="o">*</span> <span class="n">row</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Retrieve tuple value from column */</span>
  <span class="k">const</span> <span class="n">CassValue</span><span class="o">*</span> <span class="n">tuple_value</span> <span class="o">=</span> <span class="n">cass_row_get_column_by_name</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s">&quot;value1&quot;</span><span class="p">);</span>

  <span class="cm">/* Create an iterator for the UDT value */</span>
  <span class="n">CassIterator</span><span class="o">*</span> <span class="n">tuple_iterator</span> <span class="o">=</span> <span class="n">cass_iterator_from_tuple</span><span class="p">(</span><span class="n">tuple_value</span><span class="p">);</span>

  <span class="cm">/* Iterate over the tuple fields */</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">cass_iterator_next</span><span class="p">(</span><span class="n">tuple_iterator</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">field_name</span><span class="p">;</span>
    <span class="kt">size_t</span> <span class="n">field_name_length</span><span class="p">;</span>
    <span class="cm">/* Get tuple value */</span>
    <span class="k">const</span> <span class="n">CassValue</span><span class="o">*</span> <span class="n">value</span> <span class="o">=</span> <span class="n">cass_iterator_get_value</span><span class="p">(</span><span class="n">tuple_iterator</span><span class="p">);</span>

    <span class="cm">/* ... */</span>
  <span class="p">}</span>

  <span class="cm">/* The tuple iterator needs to be freed */</span>
  <span class="n">cass_iterator_free</span><span class="p">(</span><span class="n">tuple_iterator</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>

        </div>

        <div id="sidebar" class="large-3 large-pull-6 columns"><div class="side-nav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">C/C++ Driver for ScyllaDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Features</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Basics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../batches/index.html">Batches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../binding_parameters/index.html">Binding Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../client_side_timestamps/index.html">Client-side timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../consistency/index.html">Consistency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_types/index.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../date_and_time/index.html">The <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">time</span></code> Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../futures/index.html">Futures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../handling_results/index.html">Handling Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../keyspaces/index.html">Keyspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../prepared_statements/index.html">Prepared Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../schema_metadata/index.html">Schema Metadata</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_defined_types/index.html">User-Defined Types (UDTs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uuids/index.html">UUIDs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../building/index.html">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../client_configuration/index.html">Client Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloud/index.html">Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/index.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../execution_profiles/index.html">Execution Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logging/index.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../metrics/index.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scylla_specific/index.html">Scylla Specific Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/index.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tracing/index.html">Tracing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dse_features/index.html">DSE Features</a></li>
</ul>

</div>
        </div>

        <div class="large-3 columns">
            
                <div class="versions-dropdown single-version">
    <button class="button">
	master

	 <i class="fa fa-caret-down" aria-hidden="true"></i>
    </button>
    <ul class="content">
            <li><a href="index.html">master</a></li>
    </ul>
</div>
            
        </div>

    </div>
</section>

<!-- newsleter modal -->

<div id="newsletter_signup" class="reveal-modal tiny radius dark_modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
    <a class="close-reveal-modal" aria-label="Close">×</a>
    <h2 id="modalTitle">Sign up for the Scylla newsletter</h2>
    <div id="mc_embed_signup">
        <form action="//cloudius-systems.us10.list-manage.com/subscribe/post?u=df8bb543c68230d5f7b4dcf78&amp;id=9a4589f144" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
            <div id="mc_embed_signup_scroll">

                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-EMAIL">Email</label></div>
                        <div class="small-9 columns"><input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-FNAME">First Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="FNAME" class="" id="mce-FNAME"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-LNAME">Last Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="LNAME" class="" id="mce-LNAME"></div>
                    </div>
                </div>
                <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;"><input type="text" name="b_df8bb543c68230d5f7b4dcf78_9a4589f144" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" class="button" value="Sign up" name="subscribe" id="mc-embedded-subscribe"></div>
            </div>
        </form>
    </div>
</div>

<!-- end newsleter modal -->



<!-- footer.html -->
<footer id="footer">
    <div class="footer-top">
        <a class="logo" href="https://www.scylladb.com"><img src="../../../_static/img/logo-scylla-horizontal-RGB.svg" alt=""></a>
        <div class="footer-links">
            <a class="link" href="https://docs.scylladb.com">Docs</a>
            <a class="link" href="https://www.scylladb.com/company/contact-us/">Contact Us</a>
            <a class="link" href="https://www.scylladb.com/company/">About Us</a>
            <a class="link button" href="https://github.com/scylladb/cpp-driver/issues/new?title=Issue in page Tuples&&body=I%20would%20like%20to%20report%20an%20issue%20in%20page%20https://cpp-driver.docs.scylladb.com/master/topics/basics/tuples/index%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix" target="_blank">
                Report an issue on this page</a>
        </div>
        <div class="footer-actions">
            <a class="link-icon" href="https://github.com/ScyllaDB" target="_blank">
                <span class="icon-github2"></span></a>
            <a class="link-icon" href="https://twitter.com/ScyllaDB" target="_blank">
                <span class="icon-twitter"></span></a>
            <a class="link-icon" href="https://www.linkedin.com/company/scylladb"  target="_blank">
                <span class="icon-linkedin2"></span></a>
            <a class="link-icon" href="https://www.facebook.com/scylladb/" target="_blank">
                <span class="icon-facebook"></span></a>
        </div>
    </div>

    <div class="footer-bottom">
        <div class="footer-info">
            <div class="footer-copyright">
                &#169; 2021, ScyllaDB. All rights reserved.
            </div>
            <div class="footer-last-updated">
                Last updated on 26 February 2021.
            </div>
            <div class="footer-version">
                Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
                &amp; <a href="https://pypi.org/project/sphinx-scylladb-theme">ScyllaDB Theme 0.1.21</a>
            </div>
        </div>
        <div class="footer-links">
        </div>
    </div>
</footer>
<!-- end footer.html -->

<!-- bodyscripts.html -->
<!-- at the end of the BODY --> 
<script src="../../../_static/js/vendor/jquery.js"></script>
<script src="../../../_static/js/vendor/jquery.cookie.min.js"></script>
<script src="../../../_static/expertrec.js"></script>
<script src="../../../_static/js/foundation/foundation.js"></script>
<script src="../../../_static/js/foundation/foundation.topbar.js"></script>
<script src="../../../_static/app.js"></script>
<script>
    $(document).foundation();
</script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

  <!-- end bodyscripts.html -->
</body>
</html>